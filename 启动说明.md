# 智能答题助手 - 启动脚本使用说明

## 🚀 快速启动

现在您有三种方式启动应用，无需手动杀进程：

### 方式1：PowerShell脚本（推荐）
```powershell
.\start_app.ps1
```

### 方式2：批处理脚本
```cmd
start_app.bat
```

### 方式3：仅清理端口占用
```powershell
.\stop_port_8080.ps1   # PowerShell版本（推荐）
.\stop_port_8080.bat   # 批处理版本
```

## 📋 脚本功能

### `start_app.ps1` （推荐）
- ✅ 自动检测并终止占用8080端口的进程
- ✅ 清理Flutter缓存
- ✅ 更新依赖包
- ✅ 启动Flutter Web应用
- ✅ 彩色输出，状态清晰
- ✅ 错误处理更完善
- ✅ **已修复中文乱码问题**

### `start_app.bat`
- ✅ 基本的端口清理功能
- ✅ 启动Flutter应用
- ✅ 兼容性好，适合所有Windows版本
- ✅ **已修复中文乱码问题**

### `stop_port_8080.ps1` / `stop_port_8080.bat`
- ✅ 专门用于清理8080端口占用
- ✅ 快速执行，不启动应用
- ✅ 适合调试时使用
- ✅ 修复了卡顿问题，更加可靠
- ✅ 提供PowerShell和批处理两个版本

## 🔧 使用步骤

1. **首次使用**（需要设置PowerShell执行策略）：
   ```powershell
   Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
   ```

2. **日常启动**：
   - 双击 `start_app.ps1` 或在PowerShell中运行
   - 或者双击 `start_app.bat`

3. **仅需清理端口**：
   - 运行 `stop_port_8080.ps1` 或 `stop_port_8080.bat`

## 🌐 访问应用

脚本运行成功后，应用将在以下地址可用：
- **主地址**：http://localhost:8080
- **开发者工具**：http://127.0.0.1:9102 (端口可能变化)

## ⚠️ 注意事项

1. **首次运行可能需要管理员权限**来终止某些系统进程
2. **如果PowerShell脚本无法运行**，请设置执行策略或使用批处理脚本
3. **端口仍被占用**时，可以尝试修改脚本中的端口号（8080改为其他端口）
4. **编码问题已修复**：所有脚本现在使用英文界面，避免中文乱码

## 🐛 常见问题

**Q: PowerShell脚本报错"执行策略"？**
A: 运行 `Set-ExecutionPolicy RemoteSigned -Scope CurrentUser`

**Q: 仍然提示端口占用？**
A: 手动运行 `stop_port_8080.ps1` 或重启电脑

**Q: 想使用其他端口？**
A: 修改脚本中的8080为其他端口号（如8081、3000等）

**Q: 中文显示乱码？**
A: ✅ 已修复！现在所有脚本都使用英文界面

## 🎯 推荐工作流

```
开发时：
1. 运行 start_app.ps1 启动应用
2. 进行开发和测试
3. Ctrl+C 停止应用

调试时：
1. 运行 stop_port_8080.ps1 清理端口
2. 手动运行 flutter run 命令进行调试
```

## 🔧 最新更新

### v1.1 - 脚本优化版本
- ✅ **修复了端口清理脚本卡顿问题**
- ✅ 新增 `stop_port_8080.ps1` 替代有问题的 `clean_port.ps1`
- ✅ 提供批处理版本 `stop_port_8080.bat` 作为备选
- ✅ 优化启动脚本的端口清理逻辑
- ✅ 增强错误处理和故障恢复能力

### v1.0 - 基础版本  
- ✅ **修复了所有脚本的中文乱码问题**
- ✅ 统一使用英文界面，提高兼容性
- ✅ 保持所有功能不变，只是界面语言调整
- ✅ 更好的跨系统兼容性

---

**现在您可以无忧使用脚本启动应用，再也不会看到乱码了！🎉** 